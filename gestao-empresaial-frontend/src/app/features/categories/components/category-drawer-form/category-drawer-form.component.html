@if (error()) {
  <div class="mb-4 p-3 bg-red-50 border border-red-200 rounded-md text-sm text-red-600">{{ error() }}</div>
}

<form [formGroup]="form" (ngSubmit)="save()">
  <div class="flex flex-col gap-4 mb-6">
    <div>
      <label for="category-name" class="block text-sm font-medium text-gray-700 mb-1">Nome do grupo <span class="text-red-500">*</span></label>
      <input id="category-name" formControlName="name" type="text"
        class="w-full px-3 py-2 border border-gray-200 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
        placeholder="Ex: Despesas Operacionais" />
    </div>
    @if (!isEdit()) {
      <div>
        <label for="category-type" class="block text-sm font-medium text-gray-700 mb-1">Tipo <span class="text-red-500">*</span></label>
        <select id="category-type" formControlName="type"
          class="w-full px-3 py-2 border border-gray-200 rounded-md text-sm bg-white focus:outline-none focus:ring-2 focus:ring-blue-500">
          <option value="EXPENSE">Despesa</option>
          <option value="REVENUE">Receita</option>
        </select>
      </div>
    }
  </div>
  <div class="flex items-center gap-3 pt-2 border-t border-gray-100">
    <button type="submit" [disabled]="form.invalid || loading()"
      class="px-5 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-150">
      {{ loading() ? 'Salvando...' : 'Salvar' }}
    </button>
    <button type="button" (click)="cancel()"
      class="px-5 py-2 border border-gray-200 text-sm text-gray-700 font-medium rounded-md hover:bg-gray-50 transition-colors duration-150">
      Cancelar
    </button>
  </div>
</form>
